<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/test_black">

    <android.support.design.widget.CoordinatorLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:fitsSystemWindows="true">

        <ImageView
            android:id="@+id/imgBgBlur"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="?attr/actionBarSize"
            android:scaleType="matrix"
            android:visibility="visible" />

        <android.support.design.widget.AppBarLayout
            android:id="@+id/appBarLayout"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:fitsSystemWindows="true"
            android:theme="@android:color/transparent">

            <android.support.design.widget.CollapsingToolbarLayout xmlns:fresco="http://schemas.android.com/apk/res-auto"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:elevation="5dp"
                android:fitsSystemWindows="true"
                app:contentScrim="@color/test_black"
                app:expandedTitleMarginEnd="64dp"
                app:expandedTitleMarginStart="48dp"
                app:layout_scrollFlags="scroll|exitUntilCollapsed">

                <FrameLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:layout_collapseMode="parallax">


                    <com.facebook.drawee.view.SimpleDraweeView
                        android:id="@+id/SELECTED_MOVIE_IMAGE"
                        android:layout_width="match_parent"
                        android:layout_height="250dp"
                        android:animateLayoutChanges="true"
                        android:foreground="@drawable/poster_gradient_2"
                        android:scaleType="centerInside"
                        app:layout_collapseMode="parallax" />


                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_gravity="bottom"
                        android:layout_marginStart="@dimen/margin_standard"
                        android:orientation="vertical"
                        app:layout_collapseMode="parallax">

                        <TextView
                            android:id="@+id/SELECTED_MOVIE_TITLE"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:animateLayoutChanges="true"
                            android:paddingBottom="@dimen/margin_half"
                            android:text="[Selected Film]"
                            android:textColor="@color/white"
                            android:textSize="25sp"
                            android:textStyle="bold" />


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_gravity="bottom"
                            android:layout_marginBottom="@dimen/margin_half">


                            <TextView
                                android:id="@+id/SELECTED_FILM_RATING"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:layout_marginEnd="@dimen/margin_standard"
                                android:layout_marginTop="@dimen/margin_half"
                                android:animateLayoutChanges="true"
                                android:padding="@dimen/margin_minimum"
                                android:text="[RATED  *]"
                                android:textColor="@color/white"
                                android:textSize="15sp"
                                android:visibility="visible" />

                            <TextView
                                android:id="@+id/SELECTED_RUNTIME"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:layout_marginTop="@dimen/margin_half"
                                android:animateLayoutChanges="true"
                                android:padding="@dimen/margin_minimum"
                                android:text="[SELECTED RUN TIME]"
                                android:textColor="@color/white"
                                android:textSize="15sp" />

                            <ImageButton
                                android:id="@+id/SELECTED_SYNOPSIS"
                                android:layout_width="40dp"
                                android:layout_height="40dp"
                                android:layout_gravity="bottom"
                                android:background="@android:color/transparent"
                                android:padding="@dimen/margin_half"
                                android:scaleType="fitCenter"
                                android:src="@drawable/infoicon2"
                                android:tint="@color/white" />


                        </LinearLayout>

                    </LinearLayout>

                    <!--<ImageView-->
                    <!--android:id="@+id/selected_back"-->
                    <!--android:layout_width="20dp"-->
                    <!--android:layout_height="wrap_content"-->
                    <!--android:layout_marginStart="@dimen/margin_standard"-->
                    <!--android:layout_marginTop="@dimen/margin_half"-->
                    <!--android:src="@drawable/iconback"-->
                    <!--android:tint="@color/white" />-->

                </FrameLayout>

                <android.support.v7.widget.Toolbar
                    android:id="@+id/SELECTED_TOOLBAR"
                    android:layout_width="match_parent"
                    android:layout_height="0dp"
                    android:background="@android:color/transparent"
                    android:elevation="5dp"
                    app:layout_collapseMode="pin"
                    app:popupTheme="@style/AppTheme.PopupOverlay" />

            </android.support.design.widget.CollapsingToolbarLayout>


        </android.support.design.widget.AppBarLayout>

        <android.support.v4.widget.NestedScrollView xmlns:android="http://schemas.android.com/apk/res/android"
            android:id="@+id/NESTED_SCROLL"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:background="@color/test_black"
            app:layout_behavior="@string/appbar_scrolling_view_behavior">

            <RelativeLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent">

                <RelativeLayout
                    android:id="@+id/scrennings"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:background="@color/test_black"
                    android:orientation="vertical"
                    android:visibility="gone">


                    <android.support.v7.widget.RecyclerView
                        android:id="@+id/SELECTED_THEATERS"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="95dp"
                        android:layout_marginTop="@dimen/margin_standard"
                        android:nestedScrollingEnabled="false"
                        android:orientation="vertical"
                        android:visibility="gone"
                        app:layout_behavior="@string/appbar_scrolling_view_behavior"
                        tools:listitem="@layout/list_item_theaters_and_showtimes">

                    </android.support.v7.widget.RecyclerView>

                    <TextView
                        android:id="@+id/NoTheaters"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_centerInParent="true"
                        android:layout_marginTop="@dimen/doubledouble_margin_standard"
                        android:padding="@dimen/margin_half"
                        android:text="There are no available screenings in your location today"
                        android:textAlignment="center"
                        android:textColor="@color/white"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:visibility="gone" />

                    <TextView
                        android:id="@+id/message"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_centerHorizontal="true"
                        android:layout_marginEnd="55dp"
                        android:layout_marginStart="50dp"
                        android:layout_marginTop="@dimen/a_lot_margin_standard"
                        android:elegantTextHeight="true"
                        android:lineSpacingExtra="4dp"
                        android:text="In order to view theaters &amp; showtimes for this movie, location services must be enabled."
                        android:textAlignment="center"
                        android:textColor="@color/white"
                        android:textSize="17sp"
                        android:visibility="gone" />


                    <TextView
                        android:id="@+id/EnableText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_below="@id/message"
                        android:layout_centerHorizontal="true"
                        android:padding="@dimen/margin_half"
                        android:text="Enable location services"
                        android:textAlignment="center"
                        android:textColor="@color/new_red"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:visibility="gone" />

                    <ImageView
                        android:id="@+id/arrow"
                        android:layout_width="25dp"
                        android:layout_height="40dp"
                        android:layout_below="@id/message"
                        android:layout_toEndOf="@id/EnableText"
                        android:src="@drawable/arrowforward"
                        android:tint="@color/new_red"
                        android:visibility="gone" />


                </RelativeLayout>

                <LinearLayout
                    android:id="@+id/comingSoon"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:orientation="vertical"
                    android:padding="@dimen/margin_standard"
                    android:visibility="gone">

                    <TextView
                        android:id="@+id/comingSoonTitle"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="In theaters June 1st, 2018"
                        android:textColor="@color/almost_white"
                        android:textSize="@dimen/text_size_18"
                        android:textStyle="bold" />

                    <TextView
                        android:id="@+id/synopsisTitle"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/margin_standard"
                        android:text="Synopsis"
                        android:textColor="@color/almost_white"
                        android:textSize="@dimen/text_size_18"
                        android:textStyle="bold" />

                    <TextView
                        android:id="@+id/synopsisContent"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/margin_standard"
                        android:lineSpacingExtra="5dp"
                        android:text="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
                        android:textColor="@color/almost_white"
                        android:textSize="@dimen/text_size_14" />
                </LinearLayout>

            </RelativeLayout>

        </android.support.v4.widget.NestedScrollView>

        <Button
            android:id="@+id/button_check_in"
            android:layout_width="match_parent"
            android:layout_height="48dp"
            android:layout_marginBottom="56dp"
            android:animateLayoutChanges="true"
            android:background="@color/new_red"
            android:text="@string/fragment_theater_check_in"
            android:textAllCaps="false"
            android:visibility="gone"
            app:layout_anchor="@+id/NESTED_SCROLL"
            app:layout_anchorGravity="bottom" />


        <include
            android:id="@+id/progress"
            layout="@layout/view_loading"
            android:layout_width="match_parent"
            android:layout_height="match_parent" />

    </android.support.design.widget.CoordinatorLayout>
</FrameLayout>